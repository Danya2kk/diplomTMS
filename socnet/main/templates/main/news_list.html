{% extends 'main/layout.html' %}
{% load static %}
{% load custom_filters %}

{% block content %}
<h2 class="Auth_title">Список новостей</h2>

<div class="news-detail-container">
    <!-- Контейнер для фильтров -->
    <div class="filters-list">
        <div class="center-text">
            <a class="btn-news add-color" href="{% url 'news_create' %}">Добавить новость</a>
        </div>
        <h3 class="Auth_title">Фильтры</h3>
        <form method="get" action="{% url 'groups_list' %}" class="filter-form">
            {{ filterset.form.as_p }}
            <button type="submit" class="btn-filter-list add-font add-color">Применить фильтр</button>
            <button class="btn-filter-list add-font"><a href="{% url 'groups_list' %}" class="no-markers add-color">Сбросить фильтры</a></button>
        </form>
    </div>

    <!-- Контейнер для списка групп -->
    <div class="profile-list-container">
        <div class="profile-detail-content2">
            {% for new in news %}
                <section class="profile-detail-content2">
                    <!-- Левый блок с аватаром и именем -->
                    <div class="profile-detail-left2">
                        <a href="{% url 'news_detail' new.id %}">
                            <img src="{{ new.image.url }}" alt="{{ new.title }}" class="news-inner-image">
                        </a>
                        <div class="profile-detail-left2">
                            <a class="profile-name add-color" href="{% url 'news_detail' new.id %}">
                                {{ new.title }}
                            </a>
                        </div>
                    </div>
                    <!-- Правый блок с деталями профиля -->
                    <div class="profile-detail-right2 profile-detail-text add-color">
                        <p> {{ new.content }}</p>
                        <p>Автор: {{ new.created_at }}</p>
                        <p>Тэги: {% if new.tags.all %}{{ new.tags.all|join:", " }}{% endif %}</p>
                    </div>
                </section>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
