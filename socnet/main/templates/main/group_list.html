{% extends 'main/layout.html' %}
{% load static %}
{% load custom_filters %}

{% block content %}
<h2 class="Auth_title">Список групп</h2>

<div class="news-detail-container">
    <!-- Контейнер для фильтров -->
    <div class="filters-list">
        <div class="center-text">
            <a class="btn-news add-color" href="{% url 'group_create' %}">Создать группу</a>
        </div>
        <h3 class="Auth_title">Фильтры</h3>
        <form method="get" action="{% url 'groups_list' %}" class="filter-form">
            {{ filterset.form.as_p }}
            <button type="submit" class="btn-filter-list add-font add-color">Применить фильтр</button>
            <button class="btn-filter-list add-font"><a href="{% url 'groups_list' %}" class="no-markers add-color">Сбросить фильтры</a></button>
        </form>
    </div>

    <!-- Контейнер для списка групп -->
    <div class="profile-list-container">
        <div class="profile-detail-content2">
            {% for group in groups %}
                <section class="profile-detail-content2">
                    <!-- Левый блок с аватаром и именем -->
                    <div class="profile-detail-left2">
                        <a href="{% url 'group' group.id %}">
                            <img src="{{ group.photo.url }}" alt="{{ group.name }}" class="news-inner-image">
                        </a>
                        <div class="profile-detail-left2">
                            <a class="profile-name add-color" href="{% url 'group' group.id %}">
                                {{ group.name }}
                            </a>
                        </div>
                    </div>
                    <!-- Правый блок с деталями профиля -->
                    <div class="profile-detail-right2 profile-detail-text add-color">
                        <p>Описание: {{ group.description }}</p>
                        <p>Тип группы: {{ group.get_group_type_display }}</p>
                        <p>Основатель: {{ group.creator }}</p>
                        <p>Правила группы: {{ group.rules }}</p>
                    </div>
                </section>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
